awk '{print $1}' /var/log/nginx/access.log | awk '{ cnt[$1]++ } END { for (id in cnt) {printf "%d %s\n", cnt[id], id}}' | sort -n -k1 -r | head

awk '$9 == 404 {print $1}' /var/log/nginx/access.log | awk '{ cnt[$1]++ } END { for (id in cnt) {printf "%d %s\n", cnt[id], id}}' | sort -n -k1 -r | head
